{
  "tools": [
    {
      "name": "query",
      "description": "Runs read-only SQL queries against chosen database connection. Only SELECT and other read-only operations are allowed - INSERT, UPDATE, DELETE, DROP, and other write operations are blocked for security. Multiple queries can be executed if separated by semicolons.\n\nAny SELECT query without WHERE clause MUST include LIMIT 10 (MySQL/Postgres) or TOP 10 (SQL Server). This is a hard requirement with no exceptions. You must add pagination to all queries. If your query lacks LIMIT/TOP, you MUST add it before execution. Do NOT attempt to retrieve unlimited results.\n\nTo retrieve extra rows, you MUST USE PAGINATION (OFFSET and LIMIT/FETCH NEXT).\n\nIf you need the total count of records, use a separate query like:\nSELECT COUNT(*) FROM table;\nAvailable connections:\n - local : SQLite, version 3.45.1\n - products : MySQL, version 8.0\n - users : Postgres, version 16\n - server : SQL Server, version 2019",
      "inputSchema": {
        "type": "object",
        "properties": {
          "connection": {
            "type": "string",
            "description": "the name of the database connection to use"
          },
          "query": {
            "type": "string",
            "description": "The SQL query (or queries) to execute. Multiple queries must be separated by semicolons."
          }
        },
        "required": [
          "connection",
          "query"
        ]
      },
      "outputSchema": {
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "query": {
                  "type": "string",
                  "description": "The SQL query that was executed"
                },
                "count": {
                  "type": "integer",
                  "description": "The number of rows returned by the query"
                },
                "rows": {
                  "type": "array",
                  "description": "The rows returned by the query as an array of objects"
                }
              },
              "required": [
                "query",
                "count",
                "rows"
              ]
            }
          }
        },
        "required": [
          "results"
        ]
      },
      "annotations": {
        "title": "Query database",
        "readOnlyHint": true,
        "destructiveHint": true,
        "idempotentHint": false,
        "openWorldHint": false
      }
    }
  ]
}
